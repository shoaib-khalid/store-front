<!-- <div class="position-absolute" *ngIf="!store_open">
    <div class="fixed-top alert alert-danger alert-dismissible fade show header" role="alert">
        We are closed now our opening hours are from <strong>8 am to 8 pm daily</strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>

</div> -->

<!-- <food-app-banner-catalogue></food-app-banner-catalogue> -->

<div class="position-absolute" *ngIf="store_open === false && isSnooze === false">
    <div style="text-align: center;" class="fixed-top alert alert-danger alert-dismissible fade show header" role="alert">
        <marquee width="40%" direction="left">
            Sorry, We are closed now
        </marquee>
        
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>
</div>

<div class="position-absolute" *ngIf="store_open === true && isSnooze === true">
    <div style="text-align: center;" class="fixed-top alert alert-danger alert-dismissible fade show header" role="alert">
        <marquee width="40%" direction="left">
            Sorry, We are closed now... We'll re-open at {{ snoozeEndTime | date: 'h:mm a'}}
        </marquee>
        
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>
</div>

<!-- <div id="scrollable"> -->

<!-- <div *ngFor="let test of categories">
    <p style="background-color: coral;">{{test.id}}</p>
</div> -->

<!-- Slider Desktop  -->
<div class="d-none d-sm-none d-md-block d-lg-block d-xl-block">
    <!-- category slider one normal horizontal slider with more smooth behaviour-->
    <div class="container" id="category-section" style="padding-top: 50px;">
        <div class="row" >
            <div class="scrollmenu" id="scrollable2">

                <div id="allcategory">
                    <div class="card" style="border: none; background-color: transparent; height: auto;">
                        
                        <!-- <div class="card-body category shadow-sm" style="margin: 0px; border-radius: 5px; width: 150px; height: 150px; border: 1px solid #ffe259;" [ngStyle]="{'background-image': 'url(/assets/image/noimage2.jpg)'}">
                            <span style="margin: 35px;"></span>
                        </div> -->
                        
                        <a (click)="goToLanding()" class="text-center details btn btn-outline-warning btn-lg" id="price" style="margin: 5px; font-size: 13px; font-weight: bold; color: black;">Home</a>
                    </div>
                </div>

                <div id="allcategory">
                    <div class="card" style="border: none; background-color: transparent; height: auto;">
                        
                        <!-- <div class="card-body category shadow-sm" style="margin: 0px; border-radius: 5px; width: 150px; height: 150px; border: 1px solid #ffe259;" [ngStyle]="{'background-image': 'url(/assets/image/noimage2.jpg)'}">
                            <span style="margin: 35px;"></span>
                        </div> -->
                        
                        <a (click)="getAllProduct()" [ngClass]="{'selected' : this.selectedMenu === 'all'}" class="text-center details btn btn-outline-warning btn-lg" id="price" style="margin: 5px; font-size: 13px; font-weight: bold; color: black;">All</a>
                    </div>
                </div>

                <div id="test" *ngFor="let item of categories; let i = index;">
                    <div class="card" style="border: none; background-color: transparent; height: auto;">
                        
                        <!-- <div (click)="onGetCategoriesItem(item.id)" *ngIf="item.thumbnailUrl != null; else noImage" class="card-body category shadow-sm" style="margin: 0px; border-radius: 5px; width: 150px; height: 150px; border: 1px solid #ffe259;" 
                        [ngStyle]="{'background-image': 'url('+ item.thumbnailUrl +')'}">
                            <span style="margin: 35px;"></span>
                        </div> -->

                        <ng-template #noImage>
                            <!-- <div class="card-body category shadow-sm" style="margin: 0px; border-radius: 5px; width: 150px; height: 150px; border: 1px solid #ffe259;" [ngStyle]="{'background-image': 'url(/assets/image/noimage2.jpg)'}">
                                <span style="margin: 35px;"></span>
                            </div> -->
                            <!-- <div class="card-body" style="margin: 0px; border-radius: 5px;">
                                <span style="margin: 0px;"></span>
                            </div> -->
                        </ng-template>
                        
                        <a (click)="getProduct(item.id)" [ngClass]="{'selected' : this.selectedMenu === item.id}" class="text-center details btn btn-outline-warning btn-lg" id="price" style="margin: 5px; font-size: 13px; font-weight: bold; color: black;">{{ item.name }}</a>
                    </div>
                </div> 
            </div>
        </div>
    </div>
</div>

<!-- Slider Mobile  -->
<div class="d-block d-sm-block d-md-none d-lg-none d-xl-none">
    <!-- category slider one normal horizontal slider with more smooth behaviour-->
    <div class="container" id="category-section" style="padding-top: 50px;">
        <div class="row" >
            <div class="scrollmenu scrollmobi">

                <div id="allcategory">
                    <div class="card" style="border: none; background-color: transparent; height: auto;">
                        
                        <!-- <div class="card-body category shadow-sm" style="margin: 0px; border-radius: 5px; width: 150px; height: 150px; border: 1px solid #ffe259;" [ngStyle]="{'background-image': 'url(/assets/image/noimage2.jpg)'}">
                            <span style="margin: 35px;"></span>
                        </div> -->
                        
                        <a (click)="goToLanding()" class="text-center details selected btn btn-outline-warning btn-lg" id="price" style="margin: 5px; font-size: 13px; font-weight: bold;">Home</a>
                    </div>
                </div>

                <div id="allcategory">
                    <div class="card" style="border: none; background-color: transparent; height: auto;">
                        
                        <!-- <div class="card-body category shadow-sm" style="margin: 0px; border-radius: 5px; width: 150px; height: 150px; border: 1px solid #ffe259;" [ngStyle]="{'background-image': 'url(/assets/image/noimage2.jpg)'}">
                            <span style="margin: 35px;"></span>
                        </div> -->
                        
                        <a (click)="getAllProduct()" class="text-center details selected btn btn-outline-warning btn-lg" id="price" style="margin: 5px; font-size: 13px; font-weight: bold;">All</a>
                    </div>
                </div>

                <div id="test" *ngFor="let item of categories; let i = index;">
                    <div class="card" style="border: none; background-color: transparent; height: auto;">

                        <!-- <div (click)="onGetCategoriesItem(item.id)" *ngIf="item.thumbnailUrl; else noImage" class="card-body category shadow-sm" style="margin: 0px; border-radius: 5px; width: 150px; height: 150px; border: 1px solid #ffe259;" [ngStyle]="{'background-image': 'url('+ item.thumbnailUrl +')'}">
                            <span style="margin: 35px;"></span>
                        </div> -->

                        <ng-template #noImage>
                            <!-- <div class="card-body category shadow-sm" style="margin: 0px; border-radius: 5px; width: 150px; height: 150px;" [ngStyle]="{'background-image': 'url(/assets/image/noimage2.jpg)'}">
                                <span style="margin: 35px;"></span>
                            </div> -->
                        </ng-template>
                        
                        <a (click)="getProduct(item.id, sortId)" class="text-center details selected btn btn-outline-warning btn-lg" id="price" style="margin: 5px; font-size: 13px; font-weight: bold;">{{ item.name }}</a>
                    </div>
                </div> 
            </div>
        </div>
    </div>
</div>




<!-- category slider using plugin-->
<!-- <div class="container" id="category-section" style="padding-top: 50px;">
    <div class="row">
        <drag-scroll
        drag-scroll-y-disabled="false"
        scroll-x-wheel-enabled="true"
        (dsInitialized)="onDragScrollInitialized()"
        (indexChanged)="onIndexChanged($event)"
        (reachesLeftBound)="leftBoundStat($event)"
        (reachesRightBound)="rightBoundStat($event)"
        (snapAnimationFinished)="onSnapAnimationFinished()"
        (dragStart)="onDragStart()"
        (dragEnd)="onDragEnd()" 
        class="hide-scroll">
            <div drag-scroll-item id="test" style="padding: 10px;" *ngFor="let item of categories; let i = index;">
                <div class="card" style="border: none; background-color: transparent;">
                    <div class="card-body category shadow-sm" style="margin: 0px; border-radius: 10px;" [ngStyle]="{'background-image': 'url(/assets/image/' + item.img + ')'}">
                    <span style="margin: 35px;"></span>
                    </div>
                    <span class="text-center" style="margin: 5px; font-size: 13px;">{{ item.category }}</span>
                </div>
            </div>        
        </drag-scroll>
    </div>
</div> -->

<!-- <div class="container" style="margin-top: 50px;">
    <div class="row">
        <div *ngFor="let item of categories; let i = index;" class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
            <div class="card shadow-sm category_card" style="border-radius: 0px; margin-bottom: 15px; transition: 800ms;"
            [ngStyle]="{'background-image': 'url('+ item['thumbnailUrl'] +')'}">
                <div class="card-body center" style="font-size: 13px;">
                    <div style=" background-color: white;">
                        <p>{{item.name}}</p>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>

    <div class="center">
        <p>I am vertically and horizontally centered.</p>
      </div>
</div> -->


<div class="container" style="padding-top: 20px; padding-bottom: 100px;">
    <div class="row">
        <div class="col-lg-10 col-sm-12 col-md-12 col-xs-12">
            <!-- <h4>PRODUCT LIST</h4> -->
        </div>
        <div class="col-lg-2 col-sm-12 col-md-12 col-xs-12">
            <!-- <button (click)="initOrder()">TEST</button> -->
            <!-- <input type="text" class="form-control search-bar" style="border-radius: 5px;" placeholder="search"> -->
            <!-- <select class="custom-select custom-select-sm">
                <option selected>Sort By</option>
                <option value="1">Cheapest</option>
                <option value="2">Most Expensive</option>
                <option value="3">Name</option>
                <option value="4">Most Recent</option>
            </select> -->
            <select name="sortBy" class="custom-select custom-select-sm" [(ngModel)]="sortBy" (change)="sortByValue()">
                <option selected disabled value="0">Sort By</option>
                <option value="1">Cheapest</option>
                <option value="2">Most Expensive</option>
                <option value="3">Name (A-Z)</option>
                <option value="4">Name (Z-A)</option>
                <option value="5">Most Recent</option>
            </select>
            
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-sm-4" *ngFor="let item of product; let i = index;">
            <div class="card shadow-sm chapter" style="border-radius: 5px; margin-bottom: 15px; transition: 800ms;">
                <div class="card-body" style="font-size: 13px;">
                    <div class="row">
                        <div class="col-4">
                            <div *ngIf="item.productAssets != 0">
                                <!-- <img (click)="goToDetails(item.seoName)" class="card-img-top img-icon details" src="{{ item.productAssets[0].url }}" alt="Card image cap"> -->
                                <img (click)="goToDetails(item.seoName)" class="card-img-top img-icon details" src="{{ item.thumbnailUrl }}" alt="Card image cap">
                                <!-- <span>test {{item.productAssets[0].url}}</span> -->
                            </div>
                            <div *ngIf="item.productAssets == 0 && logoImage">
                                <img (click)="goToDetails(item.seoName)" class="card-img-top img-icon details" src="{{ logoImage }}" alt="Card image cap">
                            </div>
                            <div *ngIf="item.productAssets == 0 && !logoImage">
                                <img (click)="goToDetails(item.seoName)" class="card-img-top img-icon details" src="assets/image/noimage.jpg" alt="Card image cap">
                            </div>
                            <!-- <ng-template #noImage>
                                
                            </ng-template> -->
                        </div>
                        <div class="col-8 text-right">
                            <h6 (click)="goToDetails(item.seoName)" class="card-title details">{{ item.name | titlecase}}</h6>
                            <!-- <h5 id="price">RM {{ item.productInventories[0].price | number: '1.2-2'}}</h5> -->
                            <div *ngFor="let data of catalogueList">
                                <h5 *ngIf="item.id == data.productId; else noPrice" id="price">{{currencySymbol}} {{ data.price === 0  ? "0.00" : data.price  | number: '1.2-2'}}</h5>
                            </div>
                        </div>
                        <!-- <div class="col-8 text-right">
                            <h5 class="card-title">{{ item.name | titlecase}}</h5>
                            <div *ngFor="let data of priceObj">
                                <h5 *ngIf="item.id == data.product_id; else noPrice" id="price">{{ data.minPrice === 0 ? "N/A" : "RM " + data.minPrice }}</h5>
                            </div>
                        </div> -->
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                            <div *ngFor="let data of catalogueList">
                                <!-- {{item.id}} X {{data.productId}} -->
                                <!-- <div *ngIf="item.id == data.productId" (click)="addToCart($event, item.id, data.itemCode, 1, data.price, item.weight, data.sku)" class="bg-warning rounded btnAddtoCart" data-toggle="modal" data-target="#staticBackdrop">
                                    <span style="vertical-align: middle;">Add to cart &nbsp;<fa-icon [icon]="iconCart"></fa-icon></span>
                                </div> -->

                                <!-- <div *ngIf="item.id == data.productId" (click)="itemInfo($event, item.id, data.itemCode, 1, data.price, item.weight, data.sku)" class="bg-warning rounded btnAddtoCart" data-toggle="modal" data-target="#staticBackdrop">
                                    <span style="vertical-align: middle;">Add to cart &nbsp;<fa-icon [icon]="iconCart"></fa-icon></span>
                                </div> -->
                            </div>
                        </div>
                        <!-- <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12"></div> -->
                        <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
                            <div class="rounded btnSeeMore" (click)="onGetDetails(item.id)" data-toggle="modal" data-target="#modalProduct">
                                <span style="vertical-align: middle;">Add to cart &nbsp;<fa-icon [icon]="iconCart"></fa-icon></span>
                            </div>
                        </div>
                        <!-- <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="text-align: center;">
                            <a class="btn btn-sm btn-warning fontsizer" style="max-width: 125px;">
                                Add to cart &nbsp;<fa-icon [icon]="iconCart"></fa-icon>
                            </a>
                        </div>
                        <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="text-align: center;">
                            <a class="btn btn-sm btn-success fontsizer" style="max-width: 125px;" (click)="onGetDetails(item.id)" data-toggle="modal" data-target="#modalProduct">
                                See more &nbsp;<fa-icon [icon]="iconEye"></fa-icon>
                            </a>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>

        <div class="col" *ngIf="product.length < 1">
            <div class="alert alert-warning" role="alert">
                Product Not Found!
            </div>
        </div>
        
    </div>

    <div class="row" style="margin-top: 50px; margin-bottom: 100px;">
        <div class="col d-flex justify-content-center">
            <nav aria-label="...">
                <ul class="pagination">
                
                    <!-- Previous pagination  -->
                    <ng-container *ngIf="isFirstPage; else havePrevious">
                        <li class="page-item disabled">
                            <span class="page-link">Previous</span>
                        </li>
                    </ng-container>

                    <ng-template #havePrevious>
                        <li class="page-item" (click)="goToPrev(currentPageElement)">
                            <span class="page-link">Previous</span>
                        </li>
                    </ng-template>

                    <!-- Middle Level pagination -->
                    <ng-container 
                    *ngFor="let a of fakeArray; let index = index">
                        
                        <ng-container *ngIf="index == currentPageElement; else notActive">
                            <li class="page-item active" (click)="goToPage(index)">
                                <span class="page-link">{{index + 1}}</span>
                            </li>
                        </ng-container>
                        
                        <ng-template #notActive>
                            <li class="page-item" (click)="goToPage(index)">
                                <span class="page-link">{{index + 1}}</span>
                            </li>
                        </ng-template>

                    </ng-container>

                    <!-- Next Pagination  -->
                    <ng-container *ngIf="isLastPage; else haveNext">
                        <li class="page-item disabled">
                            <span class="page-link">Next</span>
                        </li>
                    </ng-container>

                    <ng-template #haveNext>
                        <li class="page-item" (click)="goToNext(currentPageElement)">
                            <span class="page-link">Next</span>
                        </li>
                    </ng-template>
                </ul>
            </nav>
        </div>
    </div>
</div>



<!-- update 20210401  -->
<!-- to combine instead of splitting component to get dynamic response between modal & catalogue view -->

<!-- <app-modal-product 
[details]="details"
[detailPrice]="detailPrice"
[galleryImagesInit]="galleryImagesInit"
></app-modal-product> -->

<!-- Product Modal Popup -->
<div class="modal fade" id="modalProduct" tabindex="-1" role="dialog" aria-labelledby="modalProduct" aria-hidden="true"
data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header bg-warning">
                <h5 class="modal-title" id="exampleModalLongTitle">{{ detailsObj.name | titlecase }}</h5>
                <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button> -->
            </div>

            <!-- <form (submit)="checkQuantity()"> -->
            <form (submit)="addToCart($event, detailsObj.id, popupItemCode, 2, popupPrice, popupWeight, popupSKU, addToInstruction)">
                <div class="modal-body">

                    <!-- Destop/Tablet Layout -->
                    <div class="d-none d-sm-none d-md-block d-lg-block d-xl-block">
                        <div class="row">
                            <div class="col-6 text-center">
                                <ngx-gallery [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>
                                <!-- <img class="card-img-top img-icon" src="{{ detailsObj.thumbnailUrl }}" alt="Card image cap"> -->
                            </div>
                            <div class="col-6 text-center">
                                
                                <!-- variant option  -->
                                <ng-container *ngIf="!detailsObj.isPackage">
                                    <fieldset id="{{variant.name}}" *ngFor="let variant of detailsObj.productVariants; let i = index;">
                                        <div class="row">
                                            <label for="{{variant.name}}" style="font-weight: bold; font-size: 12px;">{{variant.name | uppercase}}</label>
                                        </div>
    
                                        <div class="row">
                                            <ul class="donate-now">
                                                <!-- <form> -->
                                                    <li *ngFor="let option of variant.productVariantsAvailable; let i = index;">
                                                        <input type="radio" 
                                                        id="{{variant.name + i}}" 
                                                        value="{{option.value}}" 
                                                        name="{{variant.name}}" 
                                                        [checked]="currentVariant.indexOf(option.id) > -1"
                                                        (change)="onChangeVariant(option.id, variant.name, option.productId)"
                                                        >
                                                        <label for="{{variant.name + i}}">{{option.value}}</label>
                                                    </li>
                                                <!-- </form> -->
                                            </ul>
                                        </div>
                                    </fieldset>
                                </ng-container>

                                <!-- combo option  -->
                                <ng-container *ngIf="detailsObj.isPackage">
                                    <fieldset id="{{combo.title}}" *ngFor="let combo of combos; let i = index;" style="margin-top: 15px;">
                                        <div class="row">
                                            <div class="col">
                                                <label for="{{combo.title}}" style="font-weight: bold; font-size: 12px;">{{combo.title | uppercase}} : (SELECT {{ combo.totalAllow }} OF {{ combo.productPackageOptionDetail.length }})</label>
                                            </div>
                                        
                                        </div>
                    
                                        <div class="row text-center">
                                            <div class="col text-center">
                                                <ul class="donate-now">
                                                    <li *ngFor="let option of combo.productPackageOptionDetail; let i = index;">
                                                        <input 
                                                            type="checkbox" 
                                                            [id]="'combo-checkbox-' + combo.id + '-' + option.productId" 
                                                            [value]="option.productId" 
                                                            [name]="'combo-checkbox-' + combo.id + '-' + option.productId"
                                                            [checked]="currentCombo[combo.id].indexOf(option.productId) > -1"
                                                            (change)="onChangeCombo(combo.id, $event)"
                                                        >
                                                        <label [for]="'combo-checkbox-' + combo.id + '-' + option.productId">{{option.product.name}}</label>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </fieldset>
                                </ng-container>
                            
                                <div style="padding-top: 70px;">
                                    <!-- <h5 id="price">PRICE : RM {{ detailPrice | number: '1.2-2'}}</h5> -->
                                    <h5>PRICE : {{currencySymbol}} {{ popupPrice | number: '1.2-2' }}</h5>
                                    <ng-number-picker name="inputQty" [(ngModel)]="inputQty" [(value)]="inputQty" [min]="1" [max]="100" [inputReadOnly]="true" [postfix]="'unit'" [size]="'sm'"></ng-number-picker>
                                </div>

                                <div class="form-group">
                                    <label for="instruction">Special Instruction</label>
                                    <textarea name="addToInstruction" [(ngModel)]="addToInstruction" [(value)]="addToInstruction" class="form-control form-control-lg" id="instruction" aria-describedby="instruction" cols="30" rows="4" style="font-size: 12px;"></textarea>
                                    <!-- <input type="text" name="addToInstruction" [(ngModel)]="addToInstruction" [(value)]="addToInstruction" class="form-control form-control-lg" id="instruction" aria-describedby="instruction"> -->
                                    <!-- <small id="emailHelp" class="form-text text-muted">Example ("extra mayonnaise, extra spicy, cut in half and etc...")</small> -->
                                </div>
                                
                            </div>
                        </div>
                    </div>
    
                    <!-- Mobile Layout -->
                    <div class="d-block d-sm-block d-md-none d-lg-none d-xl-none">
                        <div class="row">
                            <div class="col text-center">
                                <ngx-gallery [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>
                                <!-- <img class="card-img-top img-icon" src="{{ detailsObj.thumbnailUrl }}" alt="Card image cap"> -->
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col" style="padding-top: 20px;">
                                <!-- variant option  -->
                                <fieldset style="padding-left: 50px;" id="m{{variant.name}}" *ngFor="let variant of detailsObj.productVariants; let i = index;">
                                    <div class="row">
                                        <label for="m{{variant.name}}" style="font-weight: bold; font-size: 12px;">{{variant.name | uppercase}}</label>
                                    </div>

                                    <div class="row">
                                        <ul class="donate-now">
                                            <!-- <form> -->
                                                <li *ngFor="let option of variant.productVariantsAvailable; let i = index;">
                                                    <input type="radio" 
                                                    id="m{{variant.name + i}}" 
                                                    value="m{{option.value}}" 
                                                    name="m{{variant.name}}" 
                                                    [checked]="currentVariant.indexOf(option.id) > -1"
                                                    (change)="onChangeVariant(option.id, variant.name, option.productId)"
                                                    >
                                                    <label for="m{{variant.name + i}}">{{option.value}}</label>
                                                </li>
                                            <!-- </form> -->
                                        </ul>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col text-center">
                                <div style="padding-top: 20px;">
                                    <!-- <h5>PRICE : {{ price }}</h5> -->
                                    <h5 id="price">PRICE : {{currencySymbol}} {{ popupPrice | number: '1.2-2'}}</h5>
                                    <ng-number-picker name="inputQty" [(ngModel)]="inputQty" [(value)]="inputQty" [min]="1" [max]="100" [step]="1" [step]="1" [inputReadOnly]="true" [postfix]="'unit'" [size]="'sm'"></ng-number-picker>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="instruction">Special Instruction</label>
                            <textarea name="addToInstruction" [(ngModel)]="addToInstruction" [(value)]="addToInstruction" class="form-control form-control-lg" id="instruction" aria-describedby="instruction" cols="30" rows="4" style="font-size: 12px;"></textarea>
                            <!-- <input type="text" name="addToInstruction" [(ngModel)]="addToInstruction" [(value)]="addToInstruction" class="form-control form-control-lg" id="instruction" aria-describedby="instruction"> -->
                            <!-- <small id="emailHelp" class="form-text text-muted">Example ("extra mayonnaise, extra spicy, cut in half and etc...")</small> -->
                        </div>
                    </div>
    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="clearSI()"><fa-icon [icon]="iconBack"></fa-icon>&nbsp;Close</button>
                    <button type="submit" class="btn btn-warning">Confirm&nbsp;<fa-icon [icon]="iconCart"></fa-icon></button>
                    <!-- <button type="submit" class="btn btn-warning" >check Quantity&nbsp;<fa-icon [icon]="iconCart"></fa-icon></button> -->
                    <button id="closeModalButton2" [hidden]="true" data-dismiss="modal">Close Modal</button>
                </div>

            </form>
            
        </div>
    </div>
</div>


<!-- update 20210401  -->
<!-- to combine instead of splitting component to get dynamic response between modal & catalogue view -->

<!-- cart modal -->
<!-- <app-modal-cart
[cartitemDetails]="cartitemDetails"
></app-modal-cart> -->

<!-- Desktop & Tablet view -->
<div class="modal fade" id="modalCart" tabindex="-1" role="dialog" aria-labelledby="modalCart" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Cart List</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="scrollable3">
                
                <!-- Destop/Tablet Layout -->
                <div class="col" *ngIf="cartitemDetailsCount == 0">
                    <div class="alert alert-danger" role="alert">
                        Cart Empty!
                    </div>
                </div>

                <div class="d-none d-sm-none d-md-block d-lg-block d-xl-block" style="padding-top: 30px; padding-bottom: 30px;">
                    <div class="card hover" style="margin-bottom: 10px; border-color: #ffe259;" *ngFor="let item of cartitemDetails; let i = index;">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-1">
                                    <span>{{ i + 1 }}.&nbsp;</span>
                                </div>
                                <div class="col-4 text-left">
                                    <!-- <div *ngFor="let product of product">
                                        <span *ngIf="item.productId == product.id" style="font-weight: bold; font-size: 13px;">{{product.name | uppercase }}</span>
                                    </div> -->

                                    <span style="font-weight: bold; font-size: 13px;">{{item.productName | uppercase }}</span>
                                </div>
                                <!-- <div class="col-4 text-left" *ngFor="let product of product">
                                    <span *ngIf="item.productId == product.id" style="font-weight: bold; font-size: 10px;">{{product.name | uppercase }}</span>
                                </div> -->
                                <div class="col-3 text-center">
                                    <span>
                                        <fa-icon (click)="adjustItem(item.id, item.productId, item.itemCode, -1, i)"  [icon]="iconMinus" class="qtyIcon"></fa-icon>
                                    </span>
                                    <span style="margin-left: 20px; margin-right: 20px;">{{item.quantity}}</span>
                                    <span>
                                        <fa-icon (click)="adjustItem(item.id, item.productId, item.itemCode, 1, i)" [icon]="iconAdd" class="qtyIcon"></fa-icon>
                                    </span>
                                </div>
                                <div class="col-3 text-center">
                                    <!-- <div *ngFor="let inventory of allProductInventory">
                                        <span *ngIf="item.itemCode == inventory.itemCode" id="price">{{currencySymbol}} {{ item.quantity * inventory.price | number: '1.2-2' }}</span>
                                    </div> -->
                                    <span id="price">{{currencySymbol}} {{item.price | number : '1.2-2'}}</span>
                                </div>
                                <div class="col-1 text-right">
                                    <button type="button" class="close" aria-label="Close">
                                        <span (click)="deleteItem(item.id, item.productId)" aria-hidden="true"><fa-icon [icon]="iconTrash" class="iconStyle"></fa-icon></span>
                                    </button>
                                </div>
                            </div>
                            <div class="row" *ngIf="item.productInventory">
                                <div class="col">
                                    <small class="text-danger">
                                        <span class="badge badge-pill badge-warning" *ngFor="let variant_details of item.productInventory.productInventoryItems" style="margin-right: 5px;">
                                            {{variant_details.productVariantAvailable.value}}
                                        </span>
                                    </small>
                                </div>
                            </div>
                            <div class="row" *ngIf="item.specialInstruction">
                                <div class="col">
                                    <small class="text-muted" >Instruction: <strong>{{item.specialInstruction}}</strong></small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mobile Layout -->

                <div class="d-block d-sm-block d-md-none d-lg-none d-xl-none">
                    <div class="card shadow-sm" style="margin-bottom: 10px; border-color: #FFE45C;" *ngFor="let item of cartitemDetails; let i = index;">
                        <div class="card-body">
                            <div class="row">
                                <!-- <div class="col-1">
                                    <span style="font-size: 12px;">{{ i + 1 }}&nbsp;</span>
                                </div> -->
                                <div class="col-8 text-left">
                                    <span style="font-weight: bold; font-size: 10px;">{{ i + 1 }}.&nbsp;{{item.productName | uppercase }}</span>
                                </div>
                                <div class="col-4 text-right">
                                    <span id="price" style="font-size: 14px;">{{currencySymbol}} {{item.price | number : '1.2-2'}}</span>
                                </div>  
                            </div>
                            <!-- <hr> -->
                            <div class="row">
                                <div class="col" *ngIf="item.specialInstruction">
                                    <small class="text-muted" >Instruction: <strong>{{item.specialInstruction}}</strong></small>
                                </div>
                                <div class="col" *ngIf="item.productInventory">
                                    <small class="text-danger">
                                        <span class="badge badge-pill badge-warning" *ngFor="let variant_details of item.productInventory.productInventoryItems" style="margin-right: 5px;">
                                            {{variant_details.productVariantAvailable.value}}
                                        </span>
                                    </small>
                                </div>
                            </div>
                            <!-- <div class="row" *ngIf="item.specialInstruction">
                                <div class="col">
                                    <small class="text-muted" >Instruction: <strong>{{item.specialInstruction}}</strong></small>
                                </div>
                            </div> -->
                            <hr>
                            <div class="row">
                                <!-- <div class="col-2 text-left">
                                    <span style="font-size: 12px;">Qty: </span>
                                </div> -->
                                <div class="col-6 text-center">
                                    <span>
                                        <fa-icon (click)="adjustItem(item.id, item.productId, item.itemCode, -1, i)" [icon]="iconMinus" class="qtyIcon"></fa-icon>
                                    </span>
                                    <span style="margin-left: 20px; margin-right: 20px; font-size: 14px; font-weight: bold;">{{item.quantity}}</span>
                                    <span>
                                        <fa-icon (click)="adjustItem(item.id, item.productId, item.itemCode, 1, i)" [icon]="iconAdd" class="qtyIcon"></fa-icon>
                                    </span>
                                </div>
                                
                                <div class="col-6 text-right">
                                    <!-- <button type="button" class="btn btn-outline-danger btn-sm" data-dismiss="modal">Remove</button> -->
                                    <button type="button" class="btn btn-outline-danger btn-sm" aria-label="Close" style="padding: 5px;">
                                        <span (click)="deleteItem(item.id, item.productId)" aria-hidden="true">
                                            <fa-icon [icon]="iconTrash" class="iconStyle" style="font-size: 12px;"></fa-icon> &nbsp; Remove Item
                                        </span>
                                    </button> 
                                    <!-- <button type="button" class="close" aria-label="Close">
                                        <span (click)="deleteItem(item.id, item.productId)" aria-hidden="true"><fa-icon [icon]="iconTrash" class="iconStyle"></fa-icon></span>
                                    </button> -->
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button (click)="clearCart()" type="button" class="btn btn-danger" data-dismiss="modal">Clear cart</button>
                <button type="button" class="btn btn-warning" data-dismiss="modal">Back</button>
            </div>
        </div>
    </div>
</div>




<!-- footer desktop -->
<div class="d-none d-sm-none d-md-block d-lg-block d-xl-block">
    <div class="">
        <div class="container">
            <div class="container footer fixed-bottom">
                <div class="row">
                    <div class="col">
                        <div style="margin-top: 20px; margin-left: 10px;">
                            <h5 id="price">SUB-TOTAL: <span>{{currencySymbol}} {{subTotal | number: '1.2-2'}}</span></h5>
                        </div>
                    </div> 
                    <div class="col"></div>
                    <div class="col" style="margin-top: 8px;">
                        <button (click)="goToCheckout()" class="btn btn-lg" 
                            style="float: right; 
                            margin: 5px; 
                            border: 1px solid #55A630; 
                            width: 150px; 
                            border-radius: 10px; 
                            background-color: #A9E538; 
                            font-size: 16px;">
                            CHECKOUT&nbsp;<fa-icon [icon]="iconBag"></fa-icon>
                        </button>
                        <button (click)="getCartItemDetails()" class="btn btn-warning btn-lg" 
                            style="float: right; 
                            margin: 5px; 
                            border: 1px solid rgb(207, 136, 3); 
                            border-radius: 10px; 
                            font-size: 16px;" 
                            data-toggle="modal" 
                            data-target="#modalCart">
                            CART LIST - <span id="price">{{cartitemDetailsCount}}</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</div>

<!-- footer mobile-->
<div class="d-block d-sm-block d-md-none d-lg-none d-xl-none">
    <div class="container footer fixed-bottom">
        <div class="container">
            <div class="row">
                <div class="col-5" style="margin-top: 15px;">
                    <!-- <div style="margin-top: 15px;"> -->
                        <span class="fontmobile_s" id="price" style="font-size: small;">SUB-TOTAL: <br><span>{{currencySymbol}} {{subTotal | number: '1.2-2'}}</span></span>
                    <!-- </div> -->
                </div>
                <!-- <div class="col"></div> -->
                <div class="col-7 removepadding" style="padding-top: 10px; text-align: center;">
                    <button style="border-radius: 5px;" (click)="getCartItemDetails()" class="btn btn-warning btn-sm footerfont cartlistm float-right" data-toggle="modal" data-target="#modalCart">CART LIST - <span id="price">{{cartitemDetailsCount}}</span></button>
                    <button style="border-radius: 5px;" (click)="goToCheckout()" class="btn btn-sm footerfont nextm float-right">CHECKOUT&nbsp;<fa-icon [icon]="iconBag"></fa-icon></button>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- </div> -->

<!-- footer mobile -->
<!-- <div class="footer">
    <div class="container-fluid">
        <div class="row">
            <div class="col"></div>
            <div class="col"></div>
            <div class="col">
                <button class="btn-success btn btn-sm" style="margin: 5px;">NEXT</button>
                <button class="btn btn-warning btn-sm" style="margin: 5px;">CART LIST (0)</button>
            </div>
        </div>
    </div>
</div> -->


<!-- popup add to cart  -->

<div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header bg-warning">
                <h5 class="modal-title" id="exampleModalLongTitle">Item Added To Cart</h5>
            </div>
            <div class="modal-body">
                <div class="text-center">
                    <img 
                        class="addtocart"
                        src="./assets/image/addtocart.png"
                        alt="First slide"
                    />
                </div>

                <!-- <textarea name="" id="" cols="30" rows="10">{{addToProdId}} | {{addToItemCode}} | {{addToOption}} | {{addToPrice}} | {{addToWeight}} | {{addToSku}}</textarea> -->

                <div class="form-group">
                    <label for="instruction">Special Instruction</label>
                    <input type="text" name="addToInstruction" [(ngModel)]="addToInstruction" [(value)]="addToInstruction" maxlength="1000" class="form-control form-control-lg" id="instruction" aria-describedby="instruction">
                    <!-- <small id="emailHelp" class="form-text text-muted">Example ("extra mayonnaise, extra spicy, cut in half and etc...")</small> -->
                </div>
            
            </div>
            <div class="modal-footer">
                <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
                <button type="button" class="btn btn-success" style="width: 150px;" 
                (click)="addToCart($event, addToProdId, addToItemCode, 1, addToPrice, addToWeight, addToSku, addToInstruction)">OK</button>

                <!-- close modal  -->
                <button id="closeModalButton" [hidden]="true" data-dismiss="modal">Close Modal</button>
            </div>
        </div>
    </div>
</div>

  
<!-- <div *ngIf="visible">
    <ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" 
    size = "default" 
    color = "#fff" 
    type = "square-jelly-box" 
    [fullScreen] = "true">
        <p style="color: white" > Loading... </p>
    </ngx-spinner>
</div> -->

<!-- <ngx-spinner
    size = "default" 
    color = "#fff" 
    type = "line-spin-fade" 
    [fullScreen] = "true">
        <p style="color: white" > Loading... </p>
</ngx-spinner> -->